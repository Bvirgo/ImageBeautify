# Image Beautify 需求报告

## 整体需求

本项目旨在设计实现一个同时面向专业人士和普通大众的图像处理工具，既实现各种基本的专业图像处理操作，又支持一键美化图片和各种图片滤镜操作，具有功能强大、目标群众广等特点。

## 界面设计

### 界面说明
- 所有功能都在菜单栏打开
- 部分功能点击后弹出子窗口
- 在子窗口调节图片，点击apply应用到主图
- 滤镜在滤镜窗口中以列表数据模型排列
- 画布应该足够大能够将图片完整地展示

## 使用语言及框架
为了使得该软件能够兼容各种平台（OS X，Linux，Windows），应采用跨平台框架或语言编写，推荐使用`C++`和`Qt5`。 

## 软件架构
为了便于多人协作开发，程序采用**`MVVM`**框架进行开发，将`Model`, `ViewModel`和`View`三个部分分离，使得界面与业务逻辑解耦，提高并行开发效率。
### 模块
软件主要分为四个模块：`App`, `Model`, `ViewModel`, `View`.
外加`Model`的子模块算法层。

#### App
- 实现`Model`,`ViewModel`之间以及`ViewModel`,`View`之间的绑定，将各个模块装配起来。

#### Model
- 存储保存`cv:Mat`格式的数据
- 封装调用算法层的函数，实现各种数据操作接口

#### ViewModel
- 调用`Model`中的接口，对来自`View`层的消息进行处理
- 将`Model`中的数据转换为`QImage`格式的数据，并与`View`层进行数据绑定，用于图片展示

#### View
- 显示`ui`布局
- 指令绑定到`ViewModel`层
- 与`ViewModel`绑定数据发生改变时，响应该变化并改变`ui`

### 整体流程
在`View`层进行操作之后，会触发对应槽函数，该槽函数会准备好参数`Parameter`交给对应的`Command`，然后执行`exec()`这个`command`，`exec`会解出参数交给`ViewModel`层，`ViewModel`调用`Model`里对应的方法，进行数据操作，`Model`操作完之后会通知`ViewModel`更新显示数据，`ViewModel`会通知`View`刷新显示。

## 软件开发流程
### 多人协作
使用github的仓库管理代码，实行多人协作开发 git分支应至少分为master, dev, release。

### 持续集成
采用appveyor进行工程持续集成，并进行版本发布与更新。

### 测试
对GUI进行严格的人工测试
对图像处理算法进行严格的单元测试

## 开发团队
黄文璨，林锦铿，叶昕洋

